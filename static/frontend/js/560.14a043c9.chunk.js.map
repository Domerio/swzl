{"version":3,"file":"js/560.14a043c9.chunk.js","mappings":"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","sources":["webpack://frontend/./src/views/LostItemHall.vue","webpack://frontend/src/views/LostItemHall.vue","webpack://frontend/./src/views/LostItemHall.vue?3a9d","webpack://frontend/./src/views/LostItemHall.vue?1946"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"lost-item-hall\"},[_c('h1',[_vm._v(\"üîç Â§±Áâ©Â§ßÂéÖ\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.lostItems,\"header-cell-style\":{ background: '#f8f9fa' }},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"empty-state\"},[_c('i',{staticClass:\"el-icon-document-remove\"}),_c('span',[_vm._v(\"ÂΩìÂâçÊ≤°ÊúâÂèØÊòæÁ§∫ÁöÑÂ§±Áâ©‰ø°ÊÅØ\")])])]},proxy:true}])},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"Áâ©ÂìÅÂêçÁß∞\",\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_c('span',{staticClass:\"text-ellipsis\"},[_vm._v(_vm._s(row.title))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Á±ªÂûã\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_vm._v(\" \"+_vm._s(_vm.getItemTypeLabel(row.item_type))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"category\",\"label\":\"ÂàÜÁ±ª\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_c('el-tag',{attrs:{\"effect\":\"plain\"}},[_vm._v(_vm._s(row.category_name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"‰∏¢Â§±Êó∂Èó¥\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_vm._v(\" \"+_vm._s(_vm.formatTime(row.lost_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"‰∏¢Â§±Âú∞ÁÇπ\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_vm._v(\" \"+_vm._s(row.location)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"Áä∂ÊÄÅ\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_c('el-tag',{staticClass:\"status-tag\",attrs:{\"type\":_vm.statusTypeMap[row.status],\"effect\":\"light\"}},[_vm._v(\" \"+_vm._s(row.status)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Êìç‰Ωú\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.viewDetails(row)}}},[_vm._v(\"Êü•ÁúãËØ¶ÊÉÖ\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"üîç Áâ©ÂìÅËØ¶ÊÉÖ\",\"visible\":_vm.detailDialogVisible,\"width\":\"800px\",\"custom-class\":\"item-detail-dialog\"},on:{\"update:visible\":function($event){_vm.detailDialogVisible=$event}}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-carousel',{attrs:{\"interval\":5000,\"height\":\"300px\",\"arrow\":\"always\"}},_vm._l((_vm.currentItem.images),function(img,index){return _c('el-carousel-item',{key:index},[_c('el-image',{staticClass:\"detail-image\",attrs:{\"src\":img,\"fit\":\"cover\"}},[_c('div',{staticClass:\"image-error\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1)}),1)],1),_c('el-col',{attrs:{\"span\":16}},[_c('el-descriptions',{attrs:{\"column\":2,\"border\":\"\",\"label-class-name\":\"detail-label\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"Áâ©ÂìÅÂêçÁß∞\"}},[_vm._v(_vm._s(_vm.currentItem.title))]),_c('el-descriptions-item',{attrs:{\"label\":\"Áâ©ÂìÅÂàÜÁ±ª\"}},[_vm._v(\" \"+_vm._s(_vm.currentItem.category_name)+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"Êèê‰∫§‰∫∫\"}},[(_vm.currentItem.user?.role === 'admin')?_c('el-tooltip',{attrs:{\"content\":\"ÁÆ°ÁêÜÂëòË¥¶Âè∑\"}},[_c('i',{staticClass:\"el-icon-s-custom\"})]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.currentItem.user?.real_name || 'ÂåøÂêçÁî®Êà∑')+\" \"),(_vm.currentItem.user)?_c('span',{staticClass:\"user-role-tag\"},[_vm._v(\" (\"+_vm._s(_vm.roleMap[_vm.currentItem.user.role])+\") \")]):_vm._e()],1),_c('el-descriptions-item',{attrs:{\"label\":\"‰∏¢Â§±Êó∂Èó¥\"}},[_vm._v(\" \"+_vm._s(_vm.formatTime(_vm.currentItem.lost_time))+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"‰∏¢Â§±Âú∞ÁÇπ\"}},[_vm._v(\" \"+_vm._s(_vm.currentItem.location)+\" \"),(_vm.currentItem.location_lat && _vm.currentItem.location_lng)?_c('div',{staticClass:\"detail-map-container\",attrs:{\"id\":'detail-map-' + _vm.currentItem.id}}):_vm._e()]),_c('el-descriptions-item',{attrs:{\"label\":\"ÂèëÂ∏ÉÁ±ªÂûã\"}},[_vm._v(\" \"+_vm._s(_vm.currentItem.item_type === 'lost' ? 'Â§±Áâ©ÁôªËÆ∞' : 'ÊãõÈ¢ÜÁôªËÆ∞')+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"ÂΩìÂâçÁä∂ÊÄÅ\"}},[_c('el-tag',{attrs:{\"type\":_vm.statusTypeMap[_vm.currentItem.status],\"size\":\"medium\"}},[_vm._v(\" \"+_vm._s(_vm.statusTextMap[_vm.currentItem.status])+\" \")])],1),_c('el-descriptions-item',{attrs:{\"label\":\"ÁôªËÆ∞Êó∂Èó¥\"}},[_vm._v(\" \"+_vm._s(_vm.formatTime(_vm.currentItem.created_at))+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"ËØ¶ÁªÜÊèèËø∞\",\"span\":2}},[_c('pre',{staticClass:\"description-pre\"},[_vm._v(_vm._s(_vm.currentItem.description))])])],1)],1)],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.detailDialogVisible = false}}},[_vm._v(\"ÂÖ≥Èó≠\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"lost-item-hall\">\r\n    <h1>üîç Â§±Áâ©Â§ßÂéÖ</h1>\r\n    <el-table\r\n      :data=\"lostItems\"\r\n      v-loading=\"loading\"\r\n      :header-cell-style=\"{ background: '#f8f9fa' }\"\r\n    >\r\n      <template #empty>\r\n        <div class=\"empty-state\">\r\n          <i class=\"el-icon-document-remove\"></i>\r\n          <span>ÂΩìÂâçÊ≤°ÊúâÂèØÊòæÁ§∫ÁöÑÂ§±Áâ©‰ø°ÊÅØ</span>\r\n        </div>\r\n      </template>\r\n      <el-table-column prop=\"title\" label=\"Áâ©ÂìÅÂêçÁß∞\" min-width=\"180\">\r\n        <template #default=\"{ row }\">\r\n          <span class=\"text-ellipsis\">{{ row.title }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"Á±ªÂûã\" width=\"100\">\r\n        <template #default=\"{ row }\">\r\n          {{ getItemTypeLabel(row.item_type) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"category\" label=\"ÂàÜÁ±ª\" width=\"120\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag effect=\"plain\">{{ row.category_name }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"‰∏¢Â§±Êó∂Èó¥\" width=\"150\">\r\n        <template #default=\"{ row }\">\r\n          {{ formatTime(row.lost_time) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"‰∏¢Â§±Âú∞ÁÇπ\" width=\"200\">\r\n        <template #default=\"{ row }\">\r\n          {{ row.location }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"Áä∂ÊÄÅ\" width=\"100\" align=\"center\">\r\n        <template #default=\"{ row }\">\r\n          <el-tag\r\n            :type=\"statusTypeMap[row.status]\"\r\n            effect=\"light\"\r\n            class=\"status-tag\"\r\n          >\r\n            {{ row.status }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"Êìç‰Ωú\" width=\"100\">\r\n        <template #default=\"{ row }\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"viewDetails(row)\">Êü•ÁúãËØ¶ÊÉÖ</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- Â§±Áâ©ËØ¶ÊÉÖÂºπÁ™ó -->\r\n    <el-dialog\r\n      title=\"üîç Áâ©ÂìÅËØ¶ÊÉÖ\"\r\n      :visible.sync=\"detailDialogVisible\"\r\n      width=\"800px\"\r\n      custom-class=\"item-detail-dialog\"\r\n    >\r\n      <el-row :gutter=\"20\">\r\n        <!-- ÂõæÁâáËΩÆÊí≠Âå∫ -->\r\n        <el-col :span=\"8\">\r\n          <el-carousel\r\n            :interval=\"5000\"\r\n            height=\"300px\"\r\n            arrow=\"always\"\r\n          >\r\n            <el-carousel-item\r\n              v-for=\"(img, index) in currentItem.images\"\r\n              :key=\"index\"\r\n            >\r\n              <el-image\r\n                :src=\"img\"\r\n                fit=\"cover\"\r\n                class=\"detail-image\"\r\n              >\r\n                <div slot=\"error\" class=\"image-error\">\r\n                  <i class=\"el-icon-picture-outline\"></i>\r\n                </div>\r\n              </el-image>\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </el-col>\r\n        <!-- ËØ¶ÁªÜ‰ø°ÊÅØÂå∫ -->\r\n        <el-col :span=\"16\">\r\n          <el-descriptions\r\n            :column=\"2\"\r\n            border\r\n            label-class-name=\"detail-label\"\r\n          >\r\n            <el-descriptions-item label=\"Áâ©ÂìÅÂêçÁß∞\">{{ currentItem.title }}</el-descriptions-item>\r\n            <el-descriptions-item label=\"Áâ©ÂìÅÂàÜÁ±ª\">\r\n              {{ currentItem.category_name }}\r\n            </el-descriptions-item>\r\n             <el-descriptions-item label=\"Êèê‰∫§‰∫∫\">\r\n              <el-tooltip\r\n                  v-if=\"currentItem.user?.role === 'admin'\"\r\n                  content=\"ÁÆ°ÁêÜÂëòË¥¶Âè∑\">\r\n                <i class=\"el-icon-s-custom\"></i>\r\n              </el-tooltip>\r\n              {{ currentItem.user?.real_name || 'ÂåøÂêçÁî®Êà∑' }}\r\n              <span v-if=\"currentItem.user\" class=\"user-role-tag\">\r\n                ({{ roleMap[currentItem.user.role] }})\r\n              </span>\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"‰∏¢Â§±Êó∂Èó¥\">\r\n              {{ formatTime(currentItem.lost_time) }}\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"‰∏¢Â§±Âú∞ÁÇπ\">\r\n              {{ currentItem.location }}\r\n              <div\r\n                v-if=\"currentItem.location_lat && currentItem.location_lng\"\r\n                class=\"detail-map-container\"\r\n                :id=\"'detail-map-' + currentItem.id\"\r\n              ></div>\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"ÂèëÂ∏ÉÁ±ªÂûã\">\r\n              {{ currentItem.item_type === 'lost' ? 'Â§±Áâ©ÁôªËÆ∞' : 'ÊãõÈ¢ÜÁôªËÆ∞' }}\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"ÂΩìÂâçÁä∂ÊÄÅ\">\r\n              <el-tag :type=\"statusTypeMap[currentItem.status]\" size=\"medium\">\r\n                {{ statusTextMap[currentItem.status] }}\r\n              </el-tag>\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"ÁôªËÆ∞Êó∂Èó¥\">\r\n              {{ formatTime(currentItem.created_at) }}\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"ËØ¶ÁªÜÊèèËø∞\" :span=\"2\">\r\n              <pre class=\"description-pre\">{{ currentItem.description }}</pre>\r\n            </el-descriptions-item>\r\n          </el-descriptions>\r\n        </el-col>\r\n      </el-row>\r\n      <span slot=\"footer\">\r\n        <el-button @click=\"detailDialogVisible = false\">ÂÖ≥Èó≠</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default {\r\n  /* eslint-disable no-undef */\r\n  data() {\r\n    return {\r\n      lostItems: [],\r\n      loading: false,\r\n      detailDialogVisible: false,\r\n      currentItem: {},\r\n      statusTypeMap: {\r\n        pending: 'warning',\r\n        active: 'primary',\r\n        completed: 'success',\r\n        expired: 'info'\r\n      },\r\n      statusTextMap: {\r\n        pending: 'ÂæÖÂÆ°Ê†∏',\r\n        active: 'ËøõË°å‰∏≠',\r\n        completed: 'Â∑≤ÂÆåÊàê',\r\n        expired: 'Â∑≤ËøáÊúü'\r\n      },\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    getItemTypeLabel(itemType) {\r\n      return itemType === 'lost' ? 'Â§±Áâ©ÁôªËÆ∞' : 'ÊãõÈ¢ÜÁôªËÆ∞';\r\n    },\r\n    formatTime(time) {\r\n      // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†ÂÖ∑‰ΩìÁöÑÊó∂Èó¥Ê†ºÂºèÂåñÈÄªËæë\r\n      return dayjs(time).format('YYYY-MM-DD HH:mm:ss')\r\n    },\r\n    async fetchLostItems() {\r\n      this.loading = true;\r\n      try {\r\n        const response = await axios.get('/api/public/lost-items/');\r\n        this.lostItems = response.data;\r\n      } catch (error) {\r\n        console.error('Ëé∑ÂèñÂ§±Áâ©‰ø°ÊÅØÂ§±Ë¥•', error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    viewDetails(item) {\r\n      this.currentItem = item;\r\n      this.detailDialogVisible = true;\r\n    },\r\n    // ÂàùÂßãÂåñËØ¶ÊÉÖÂú∞Âõæ\r\n    initDetailMap() {\r\n      if (!window.AMap) {\r\n        this.$message.warning('Âú∞ÂõæËµÑÊ∫êÊ≠£Âú®Âä†ËΩΩÔºåËØ∑Á®çÂÄô')\r\n        return\r\n      }\r\n      const lng = parseFloat(this.currentItem.location_lng)\r\n      const lat = parseFloat(this.currentItem.location_lat)\r\n      if (isNaN(lng) || isNaN(lat)) return\r\n\r\n      this.destroyDetailMap()\r\n\r\n      const mapContainerId = `detail-map-${this.currentItem.id}`\r\n      const mapContainer = document.getElementById(mapContainerId)\r\n      if (!mapContainer) return\r\n\r\n      this.detailMap = new AMap.Map(mapContainerId, {\r\n        zoom: 17,\r\n        center: [lng, lat],\r\n        resizeEnable: true\r\n      })\r\n\r\n      // ÂÆû‰æãÂåñÁã¨Á´ãÊéß‰ª∂\r\n      const scale = new AMap.Scale()\r\n      const toolBar = new AMap.ToolBar({\r\n        position: {bottom: '20px', right: '20px'}\r\n      })\r\n\r\n      // ÈÄê‰∏™Ê∑ªÂä†Êéß‰ª∂\r\n      scale.addTo(this.detailMap)\r\n      toolBar.addTo(this.detailMap)\r\n\r\n      // Ê∑ªÂä†Ê†áËÆ∞\r\n      new AMap.Marker({\r\n        position: [lng, lat],\r\n        content: '<div class=\"location-pin\">üìç</div>',\r\n        map: this.detailMap\r\n      })\r\n    },\r\n    destroyDetailMap() {\r\n      if (this.detailMap) {\r\n        try {\r\n          this.detailMap.destroy()\r\n        } catch (e) {\r\n          console.warn('Âú∞ÂõæÈîÄÊØÅËøáÁ®ã‰∏≠Âá∫Áé∞Ë≠¶Âëä:', e.message)\r\n        }\r\n        this.detailMap = null\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchLostItems();\r\n    if (!window.AMap) {\r\n      const key = 'db70318a1cf1f196b2746f10cb9df826'\r\n      const plugins = [\r\n        'AMap.Scale',\r\n        'AMap.ToolBar'\r\n      ].join(',')\r\n      const script = document.createElement('script')\r\n      script.src = `https://webapi.amap.com/maps?v=2.0&key=${key}&plugin=${plugins}`\r\n      script.onerror = () => {\r\n        console.error('È´òÂæ∑Âú∞ÂõæSDKÂä†ËΩΩÂ§±Ë¥•')\r\n      }\r\n      document.head.appendChild(script)\r\n    }\r\n  },\r\n  computed: {\r\n    roleMap() {\r\n      return {\r\n        admin: 'ÁÆ°ÁêÜÂëò',\r\n        teacher: 'ÊïôËÅåÂ∑•',\r\n        student: 'Â≠¶Áîü'\r\n      }\r\n    }\r\n\r\n  },\r\n  watch: {\r\n    detailDialogVisible(newVal) {\r\n      if (newVal) {\r\n        this.$nextTick(() => {\r\n          if (this.currentItem.location_lat && this.currentItem.location_lng) {\r\n            this.initDetailMap();\r\n          }\r\n        });\r\n      } else {\r\n        this.destroyDetailMap();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.lost-item-hall {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 40px 24px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);\r\n\r\n  h1 {\r\n    text-align: center;\r\n    color: #303133;\r\n    font-size: 28px;\r\n    margin-bottom: 40px;\r\n    position: relative;\r\n\r\n    &::after {\r\n      content: '';\r\n      display: block;\r\n      width: 60px;\r\n      height: 3px;\r\n      background: #409EFF;\r\n      margin: 12px auto 0;\r\n      border-radius: 2px;\r\n    }\r\n  }\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #606266;\r\n}\r\n\r\n.text-ellipsis {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.detail-image {\r\n  width: 150px;\r\n  height: 150px;\r\n  margin-right: 12px;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 8px;\r\n  transition: transform 0.3s;\r\n\r\n  &:hover {\r\n    transform: scale(1.05);\r\n    cursor: zoom-in;\r\n  }\r\n}\r\n\r\n.description-pre {\r\n  white-space: pre-wrap;\r\n  line-height: 1.6;\r\n  margin: 0;\r\n  font-family: inherit;\r\n}\r\n\r\n// Ê∑ªÂä†ËØ¶ÊÉÖÂú∞ÂõæÊ†∑Âºè\r\n.detail-map-container {\r\n  width: 100%;\r\n  height: 200px;\r\n  margin-top: 12px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: 'È´òÂæ∑Âú∞ÂõæÊèê‰æõÊîØÊåÅ';\r\n    position: absolute;\r\n    right: 5px;\r\n    bottom: 5px;\r\n    font-size: 10px;\r\n    color: #666;\r\n    background: rgba(255, 255, 255, 0.8);\r\n    padding: 2px 5px;\r\n    border-radius: 3px;\r\n  }\r\n}\r\n\r\n// Ê†áËÆ∞ÁÇπÊ†∑Âºè\r\n.detail-marker {\r\n  font-size: 24px;\r\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));\r\n  transform: translate(-12px, -24px);\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LostItemHall.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LostItemHall.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LostItemHall.vue?vue&type=template&id=4f44ef3e&scoped=true\"\nimport script from \"./LostItemHall.vue?vue&type=script&lang=js\"\nexport * from \"./LostItemHall.vue?vue&type=script&lang=js\"\nimport style0 from \"./LostItemHall.vue?vue&type=style&index=0&id=4f44ef3e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f44ef3e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","directives","name","rawName","value","loading","expression","attrs","lostItems","background","scopedSlots","_u","key","fn","proxy","row","_s","title","getItemTypeLabel","item_type","category_name","formatTime","lost_time","location","statusTypeMap","status","on","$event","viewDetails","detailDialogVisible","_l","currentItem","images","img","index","slot","user","role","_e","real_name","roleMap","location_lat","location_lng","id","statusTextMap","created_at","description","staticRenderFns","data","pending","active","completed","expired","methods","itemType","time","dayjs","format","fetchLostItems","response","axios","get","error","console","item","initDetailMap","window","AMap","$message","warning","lng","parseFloat","lat","isNaN","destroyDetailMap","mapContainerId","mapContainer","document","getElementById","detailMap","Map","zoom","center","resizeEnable","scale","Scale","toolBar","ToolBar","position","bottom","right","addTo","Marker","content","map","destroy","e","warn","message","mounted","plugins","join","script","createElement","src","onerror","head","appendChild","computed","admin","teacher","student","watch","newVal","$nextTick","component"],"sourceRoot":""}